# 后台管理系统使用指南

## 功能概览

专注力训练系统后台管理功能已完整实现，包含以下核心功能模块：

### 1. 访问方式

**管理后台地址**：http://localhost:8080/admin.html

**默认管理员账号**（需要先在数据库中创建）：
- 用户名：admin
- 密码：admin123
- 角色：ADMIN

### 2. 核心功能模块

#### 📊 数据统计面板

**实时统计数据**：
- 总用户数：系统注册用户总数
- 总训练次数：所有用户完成的训练总数
- 活跃用户数：最近有训练记录的用户数

**特色功能**：
- 数字动画效果展示
- 渐变色卡片设计
- 每30秒自动刷新
- 鼠标悬停卡片阴影效果

#### 👥 用户管理模块

**用户列表功能**：
- 分页展示用户信息（每页10条）
- 显示字段：ID、用户名、邮箱、角色、状态、注册时间
- 实时刷新按钮

**用户操作功能**：

1. **启用/禁用用户**
   - 点击"禁用"按钮可禁用普通用户
   - 禁用后用户无法登录系统
   - 管理员账号不可被禁用
   - 操作需二次确认

2. **删除用户**
   - 永久删除用户账号
   - 管理员账号不可被删除
   - 删除需二次确认（不可恢复）
   - 自动更新统计数据

3. **重置密码**
   - 为用户重置新密码
   - 密码长度不少于6位
   - 操作需输入新密码

**权限保护**：
- 管理员账号受保护（不可删除/禁用）
- 所有操作都有确认提示
- 操作结果实时反馈

#### 📝 训练记录模块

**记录展示功能**：
- 分页展示最近训练记录（每页10条）
- 显示字段：记录ID、用户ID、训练类型、难度、得分、准确率、耗时、完成时间
- 实时刷新按钮

**数据可视化**：
- 训练类型中文显示（箭头追踪、数字查找等）
- 难度等级彩色徽章（低/中/高）
- 得分和准确率格式化显示
- 时间本地化显示

**分页导航**：
- 上一页/下一页按钮
- 页码快速跳转
- 智能显示最多5个页码
- 当前页高亮显示

### 3. 响应式设计

#### 桌面端适配
- 导航栏完整显示管理员信息
- 统计卡片3列布局
- 表格完整展示所有字段
- 操作按钮横向排列

#### 平板端适配（≤768px）
- 导航栏字体缩小
- 统计卡片自动换行
- 表格横向滚动
- 操作按钮缩小

#### 手机端适配（≤480px）
- 最小化界面元素
- 优化触摸操作
- 紧凑的卡片布局
- 精简的表格显示

### 4. 用户体验优化

**加载状态**：
- 初始加载显示加载动画
- 数据为空显示友好提示
- 加载失败显示错误信息

**操作反馈**：
- 所有操作都有确认提示
- 操作成功显示成功提示
- 操作失败显示错误原因

**安全性**：
- 页面加载时验证管理员身份
- 非管理员自动跳转登录页
- 安全退出功能（带确认）

### 5. API接口

后台管理调用的后端API接口：

```
GET  /api/auth/current             - 获取当前登录用户
POST /api/auth/logout              - 退出登录
GET  /api/admin/statistics         - 获取系统统计信息
GET  /api/admin/users              - 获取用户列表（分页）
PUT  /api/admin/users/{id}/status  - 切换用户状态
DELETE /api/admin/users/{id}       - 删除用户
PUT  /api/admin/users/{id}/password - 重置用户密码
GET  /api/admin/records            - 获取训练记录（分页）
```

### 6. 使用流程

#### 首次使用

1. **创建管理员账号**（在数据库中执行）：
```sql
INSERT INTO users (username, password, email, role, status, created_at) 
VALUES ('admin', 'admin123', 'admin@focuslab.com', 'ADMIN', 1, NOW());
```

2. **访问登录页**：http://localhost:8080/login.html

3. **登录管理员账号**：使用上面创建的账号登录

4. **访问管理后台**：登录成功后自动跳转到管理后台

#### 日常管理

1. **查看统计数据**：页面自动加载并每30秒刷新

2. **管理用户**：
   - 查看用户列表
   - 禁用违规用户
   - 删除无效账号
   - 重置忘记密码的用户

3. **查看训练记录**：
   - 浏览最近的训练记录
   - 分析用户活跃度
   - 监控训练质量

4. **安全退出**：点击右上角退出按钮

### 7. 技术特性

- **前端框架**：Bootstrap 5
- **异步请求**：Fetch API
- **响应式设计**：CSS媒体查询
- **数据渲染**：原生JavaScript DOM操作
- **动画效果**：CSS3过渡和JavaScript动画
- **安全性**：Session验证 + 角色检查

### 8. 注意事项

⚠️ **重要提示**：

1. 管理员账号受保护，不可删除或禁用
2. 删除用户操作不可恢复，请谨慎操作
3. 重置密码会立即生效，用户需使用新密码登录
4. 数据库连接问题需要先解决IP授权
5. 建议定期备份用户数据

### 9. 故障排查

**无法访问管理后台**：
- 检查应用是否运行：`Get-Process -Name java`
- 检查端口是否被占用：`netstat -ano | findstr 8080`
- 查看应用日志确认启动状态

**登录后自动跳转回登录页**：
- 检查用户角色是否为ADMIN
- 确认Session是否正常工作
- 查看浏览器控制台错误信息

**数据加载失败**：
- 检查数据库连接是否正常
- 确认API接口返回状态
- 查看浏览器Network面板

### 10. 预览截图

访问 http://localhost:8080/admin.html 查看完整管理界面

**主要界面包含**：
- 顶部导航栏（紫色渐变）
- 三个统计卡片（彩色渐变）
- 用户管理表格（带操作按钮）
- 训练记录表格（带颜色标识）
- 分页导航组件

---

## 快速测试步骤

1. 启动应用（如果未启动）
2. 访问 http://localhost:8080/login.html
3. 使用管理员账号登录
4. 查看统计数据是否正确
5. 测试用户管理功能
6. 查看训练记录列表
7. 测试分页功能
8. 测试退出功能

管理后台已完整实现所有功能，可直接使用！
